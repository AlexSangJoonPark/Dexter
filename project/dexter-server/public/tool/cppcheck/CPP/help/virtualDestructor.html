<!DOCTYPE html>
<html lang="en">
	<head>
	
		<meta charset="utf-8" />
		
		<!--basic styles-->

		<link href="asset/css/bootstrap.css" rel="stylesheet" />
		<link rel="stylesheet" href="asset/css/dexter.min.css" />
		<link rel="stylesheet" href="asset/css/font-awesome.min.css" />
		<!--[if IE 7]>
			<link rel="stylesheet" href="asset/css/font-awesome-ie7.min.css">
		<![endif]-->

		<link rel="stylesheet" href="asset/css/prettify.css" />
		
		<script src="asset/js/jquery-2.0.3.min.js"></script>
		<!--[if IE]>
			<script src="asset/js/jquery.min.js"></script>
		<![endif]-->

		<script src="asset/js/prettify.js"></script>
		<script type="text/javascript">
			$(function() {
			
				window.prettyPrint && prettyPrint();
				$('#id-check-horizontal').removeAttr('checked').on('click', function(){
					$('#dt-list-1').toggleClass('dl-horizontal').prev().html(this.checked ? '&lt;dl class="dl-horizontal"&gt;' : '&lt;dl&gt;');
				});
			
			})
		</script>
		

	</head>

	<body>

		<div class="space-12"></div>
		<div class="table-grid-info table-grid-info-striped">
			
			<div class="table-grid-row">
				<div class="table-grid-label"> Checker Code</div>
				<div class="table-grid-value"><h5 class="header blue"><i class="fa fa-bug"></i>&nbsp;
					virtualDestructor</h5>
				</div>
			</div>

			<div class="table-grid-row">
				<div class="table-grid-label"> Description </div>
				<div class="table-grid-value-highlight"><i class="fa fa-th"></i>&nbsp;
Base classes should have virtual destructors.
				</div>
			</div>

			<div class="table-grid-row">
				<div class="table-grid-label"> Severity </div>
				<div class="table-grid-value">
					Critical
				</div>
			</div>

			<div class="table-grid-row">
				<div class="table-grid-label"> Detector / Bug Pattern </div>
				<div class="table-grid-value">
Base classes should have virtual destructors.
				</div>
			</div>

			<div class="table-grid-row">
				<div class="table-grid-label"> More Information </div>
				<div class="table-grid-value">
Base classes should have virtual destructors.
				</div>
			</div>

			<div class="table-grid-row">
				<div class="table-grid-label"> Bad Code </div>
				<div class="table-grid-value">
			<pre class="prettyprint linenums warning">
using namespace std;
class base
{
	
public:
	 base(){cout<<"Base Constructor Called\n";}
	 ~base(){cout<<"Base Destructor called\n";}
	
};
class derived1:public base
{
	
public:
	 derived1(){cout<<"Derived constructor called\n";}
	 ~derived1(){cout<<"Derived destructor called\n";}
	
};
int main()
{
	
	 base* b;
	 b=new derived1;
	 delete b;
	
}
	
/*
The above code output the following....	
Base Constructor Called
Derived constructor called
Base Destructor calledThe construction of derived object follow the construction rule but when we delete the "b" pointer(base pointer) we have found that only the base destructor is call.But this must not be happened. To do the appropriate thing we have to make the base destructor virtual. Now let see what happen in the following ...
*/
</pre>
			</div>
			</div>
       
			<div class="table-grid-row">
				<div class="table-grid-label"> Good Code </div>
				<div class="table-grid-value">
			<pre class="prettyprint linenums correct">
using namespace std;
class base
{
	
public:
	base(){cout<<"Base Constructor Called\n";}
	virtual ~base(){cout<<"Base Destructor called\n";}
	
};
class derived1:public base
{
	
public:
	derived1(){cout<<"Derived constructor called\n";}
	~derived1(){cout<<"Derived destructor called\n";}
	
};
int main()
{
	
	base* b;
	b=new derived1;
	delete b;
	
}
/*	
the output changed as following:	
Base Constructor Called
Derived constructor called
Derived destructor called
Base Destructor called	
*/		
</pre>
				</div>
			</div>

			<div class="table-grid-row">
				<div class="table-grid-label"> CWE ID </div>
				<div class="table-grid-value">
				<a href="asset/CWE_ID.html" target="_blank">0 </a>
				</div>
			</div>

			<div class="table-grid-row">
				<div class="table-grid-label"> Code Review Asset </div>
				<div class="table-grid-value">
					N/A

				</div>
			</div>
			<div class="table-grid-row">
				<div class="table-grid-label"> URLs </div>
				<div class="table-grid-value"> <i class="fa fa-link"></i>&nbsp;
				
					<a target="_blank" href="http://stackoverflow.com/questions/461203/when-to-use-virtual-destructors">
					http://stackoverflow.com/questions/461203/when-to-use-virtual-destructors
					</a> 
						
																
				</div>
			</div>
	</div>
	<div class="space-20"></div>
</body>
<html>